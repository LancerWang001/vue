<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Debug</title>
</head>

<body>
	<div id="app">
		{{ reversedMessage }}
		<hr />
		{{ user.fullName }}
	</div>
	<script src="../../dist/vue.js"></script>
	<script>
		// 如果同时设置template和render此时会渲染什么？
		const vm = new Vue({
			el: '#app',
			data: {
				message: 'Hello Vue',
				user: {
					firstName: '诸葛',
					lastName: '亮',
					fullName: ''
				}
			},
			computed: {
				reversedMessage: function () {
					return this.message.split('').reverse().join('');
				}
			},
			watch: {
				'user': {
					handler: function (newValue, oldValue) {
						this.user.fullName = this.user.firstName + ' ' + this.user.lastName;
					},
					immediate: true,
					deep: true
				}
			},
		});

		// vm.$watch('user', function (newValue, oldValue) {
		// 	this.user.fullName = newValue.firstName + ' ' + newValue.lastName;
		// }, { immediate: true, deep: true });
	</script>
</body>

</html>